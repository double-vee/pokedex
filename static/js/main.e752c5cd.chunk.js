(this["webpackJsonpjfdzr2-homework-5"]=this["webpackJsonpjfdzr2-homework-5"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(19),o=c.n(a),r=(c(27),c(8)),i=c(2),l=(c(28),c(4)),d=c(0),j=function(e){var t=e.children,c=e.className;return Object(d.jsx)("div",{className:"flex flex-col items-center mt-4 sm:mt-12 py-8 px-4 bg-red-500 rounded shadow-xl ".concat(c||""),children:t})},b=c(17),m=c(22),x=function(e){var t=e.children,c=e.className,n=Object(m.a)(e,["children","className"]);return Object(d.jsx)("h1",Object(b.a)(Object(b.a)({className:"poke-font text-xl sm:text-2xl text-center mb-8 text-white font-bold ".concat(c||"")},n),{},{children:t}))},u=function(e){var t=e.number,c=e.name,n=e.types,s=e.avatar;return Object(d.jsxs)("figure",{className:"max-w-md bg-gray-100 rounded-xl p-4",children:[Object(d.jsx)("img",{className:"w-32 h-32 rounded-full mx-auto object-cover bg-white",src:s,alt:c}),Object(d.jsx)("div",{className:"pt-4 text-center",children:Object(d.jsxs)("figcaption",{className:"font-medium",children:[Object(d.jsxs)("div",{className:"text-cyan-600",children:["#",t," ",c]}),Object(d.jsx)("div",{className:"text-gray-500",children:n.map((function(e){return e.type.name})).join(", ")})]})})]})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c.serialize,a=void 0===n?JSON.stringify:n,o=c.deserialize,r=void 0===o?JSON.parse:o,i=s.a.useState((function(){var c=window.localStorage.getItem(e);return c?r(c):"function"===typeof t?t():t})),d=Object(l.a)(i,2),j=d[0],b=d[1],m=s.a.useRef(e);return s.a.useEffect((function(){m.current!==e&&window.localStorage.removeItem(m),m.current=e,window.localStorage.setItem(e,a(j))}),[e,a,j]),[j,b]},f=function(){var e=h("pokemons",[]),t=Object(l.a)(e,2),c=t[0];t[1];return 0===c.length?Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Favorites"}),Object(d.jsx)("p",{className:"poke-font font-semibold leading-relaxed text-center text-red-900",children:"You have 0 favorite pokemons"})]}):Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Favorites"}),Object(d.jsx)("div",{className:"grid grid-rows-6 sm:grid-rows-2 grid-flow-col gap-4 sm:mt-4",children:c.map((function(e){return Object(d.jsx)(u,{number:e.id,name:e.name,types:e.types,avatar:e.sprites.front_default},e.id)}))})]})};function p(){return Object(d.jsx)(j,{children:Object(d.jsx)(x,{children:"Pokedex"})})}var O=function(e){var t=e.id,c=e.name,n=e.className;return Object(d.jsx)(r.b,{to:"/pokemons/".concat(t),className:n,children:Object(d.jsxs)("li",{children:["#",t," - ",c]})})};function g(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!0),o=Object(l.a)(a,2),r=o[0],i=o[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),u=m[0],h=m[1],f=Object(n.useState)(null),p=Object(l.a)(f,2),g=p[0],v=p[1],w=Object(n.useState)(null),k=Object(l.a)(w,2),N=k[0],y=k[1],S=Object(n.useState)(null),C=Object(l.a)(S,2),E=C[0],P=C[1],z=Object(n.useState)("https://pokeapi.co/api/v2/pokemon"),F=Object(l.a)(z,2),I=F[0],J=F[1];Object(n.useEffect)((function(){fetch(I).then((function(e){if(!e.ok)throw Error("Could not fetch data");return e.json()})).then((function(e){s(e.results),y(e.next),P(e.previous),i(!1),h(!0),v(null)})).catch((function(e){v(e.message),i(!1),h(!1)}))}),[I]);return Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Pokemons list"}),r&&Object(d.jsx)("p",{className:"poke-font font-semibold text-center text-white",children:"Loading..."}),g&&Object(d.jsxs)("div",{className:"poke-font font-semibold leading-relaxed text-center text-red-900",children:[Object(d.jsx)("p",{children:"Something went wrong :("}),Object(d.jsx)("p",{children:g})]}),u&&0===c.length&&Object(d.jsx)("p",{className:"poke-font font-semibold leading-relaxed text-center text-red-900",children:"No pokemons fetched"}),u&&c.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ol",{className:"poke-font text-white grid grid-cols-1 sm:grid-cols-2 grid-flow-row-dense gap-y-2 gap-x-8 sm:mt-4 mb-8",children:c.map((function(e,t){return Object(d.jsx)(O,{id:e.url.split("/")[6],name:e.name,className:"hover:bg-red-700 cursor-pointer ".concat(t<10?"sm:col-start-1":"sm:col-start-2")},e.url.split("/")[6])}))}),Object(d.jsxs)("div",{className:"flex justify-center gap-6",children:[Object(d.jsx)("button",{className:"w-20 sm:w-28 p-2 sm:px-4 bg-white hover:bg-red-100 rounded text-red-500 poke-font font-semibold text-xl",onClick:function(){J(E)},disabled:!E,children:"\u2190"}),Object(d.jsx)("button",{className:"w-20 sm:w-28 p-2 sm:px-4 bg-white hover:bg-red-100 rounded text-red-500 poke-font font-semibold text-xl",onClick:function(){J(N)},disabled:!N,children:"\u2192"})]})]})]})}var v=c(21),w=function(e){var t=Object(n.useState)({}),c=Object(l.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)(!0),r=Object(l.a)(o,2),i=r[0],b=r[1],m=Object(n.useState)(null),u=Object(l.a)(m,2),f=u[0],p=u[1],O=h("pokemons",[]),g=Object(l.a)(O,2),w=g[0],k=g[1],N=Object(n.useState)(null),y=Object(l.a)(N,2),S=y[0],C=y[1];Object(n.useEffect)((function(){fetch("https://pokeapi.co/api/v2/pokemon/".concat(e.match.params.id)).then((function(e){if(!e.ok)throw Error("Could not fetch data");return e.json()})).then((function(e){a(e),b(!1),p(null)})).catch((function(e){p(e.message),b(!1)}))}),[]);return i?Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Pokemon details"}),Object(d.jsx)("p",{className:"poke-font font-semibold text-center text-white",children:"Loading..."})]}):f?Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Pokemon details"}),Object(d.jsxs)("div",{className:"poke-font font-semibold leading-relaxed text-center text-red-900",children:[Object(d.jsx)("p",{children:"Something went wrong :("}),Object(d.jsx)("p",{children:f})]})]}):Object(d.jsxs)(j,{children:[Object(d.jsx)(x,{children:"Pokemon details"}),Object(d.jsxs)("figure",{className:"max-w-md sm:mt-4 mb-8 bg-gray-100 rounded-xl p-4",children:[Object(d.jsx)("img",{className:"w-32 h-32 rounded-full mx-auto object-cover bg-white",src:s.sprites.front_default,alt:s.name}),Object(d.jsxs)("figcaption",{className:"pt-4 text-center font-medium",children:[Object(d.jsxs)("div",{className:"text-cyan-600 uppercase",children:["#",s.id," ",s.name]}),Object(d.jsx)("div",{className:"text-gray-500",children:s.types.map((function(e){return e.type.name})).join(", ")})]})]}),S&&Object(d.jsx)("p",{className:"poke-font mb-8 font-semibold leading-relaxed text-center text-red-900",children:S}),Object(d.jsx)("button",{className:"poke-font py-2 px-4 bg-white hover:bg-red-100 rounded text-red-500 font-semibold text-base uppercase",onClick:function(){w.find((function(e){return e.id===s.id}))?C("You have already added ".concat(s.name[0].toUpperCase()).concat(s.name.slice(1))):(6===w.length&&k(w.shift()),k([].concat(Object(v.a)(w),[s])))},children:"Add to favorites"})]})};var k=function(){return Object(d.jsx)("main",{className:"App min-h-full overflow-auto p-4 bg-red-100",children:Object(d.jsx)("div",{className:"max-w-2xl sm:py-8 mx-auto",children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)("div",{children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"flex flex-col sm:flex-row poke-font justify-between items-center gap-2",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/pokemons",children:"Pokemons"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/favorites",children:"Favorites"})})]})})}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/",component:p}),Object(d.jsx)(i.a,{exact:!0,path:"/pokemons",component:g}),Object(d.jsx)(i.a,{path:"/pokemons/:id",component:w}),Object(d.jsx)(i.a,{path:"/favorites",component:f})]})]})})})};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.e752c5cd.chunk.js.map